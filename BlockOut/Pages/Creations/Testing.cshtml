@page
@model BlockOut.Pages.Creations.TestingModel
@{
    ViewData["Title"] = "Weekly ICS Calendar";
}

<h1 class="text-center">Weekly Schedule options</h1>

<div class="container mt-4">
    <!-- Calendar for Schedule 1: Employees 1-3 -->
    <div id="calendar-container-1" class="mt-5">
        <h3>Schedule 1: Employees 1-3</h3>
        <div id="calendar-preview-1" class="border p-3"></div>
    </div>

    <!-- Calendar for Schedule 2: Employees 1-6 -->
    <div id="calendar-container-2" class="mt-5">
        <h3>Schedule 2: Employees 1-6</h3>
        <div id="calendar-preview-2" class="border p-3"></div>
    </div>

    <!-- Calendar for Schedule 3: Employees 1-8 -->
    <div id="calendar-container-3" class="mt-5">
        <h3>Schedule 3: Employees 1-8</h3>
        <div id="calendar-preview-3" class="border p-3"></div>
    </div>
</div>

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.0/main.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.0/main.min.css" rel="stylesheet" />

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Initialize each calendar
            const initCalendar = (containerId, events) => {
                const calendarEl = document.getElementById(containerId);
                const calendar = new FullCalendar.Calendar(calendarEl, {
                    initialView: "timeGridWeek",
                    headerToolbar: {
                        left: "",
                        center: "title",
                        right: ""
                    },
                    firstDay: 0, // Start week on Sunday
                    events: events
                });
                calendar.render();
            };

            // Events for Schedule 1: Employees 1-3
            const events1 = [
                { title: "Employee 1", daysOfWeek: [1, 2, 3, 4, 5], startTime: "09:00", endTime: "17:00" },
                { title: "Employee 2", daysOfWeek: [1, 2, 3, 4, 5], startTime: "09:00", endTime: "13:00" },
                { title: "Employee 3", daysOfWeek: [1, 2, 3, 4, 5], startTime: "13:00", endTime: "17:00" }
            ];

            // Events for Schedule 2: Employees 1-6
            const events2 = [
                { title: "Employee 1", daysOfWeek: [1, 2, 3, 4, 5], startTime: "09:00", endTime: "12:00" },
                { title: "Employee 2", daysOfWeek: [1, 2, 3, 4, 5], startTime: "12:00", endTime: "15:00" },
                { title: "Employee 3", daysOfWeek: [1, 2, 3, 4, 5], startTime: "15:00", endTime: "17:00" },
                { title: "Employee 4", daysOfWeek: [1, 2, 3, 4, 5], startTime: "09:00", endTime: "12:00" },
                { title: "Employee 5", daysOfWeek: [1, 2, 3, 4, 5], startTime: "12:00", endTime: "15:00" },
                { title: "Employee 6", daysOfWeek: [1, 2, 3, 4, 5], startTime: "15:00", endTime: "17:00" }
            ];

            // Events for Schedule 3: Employees 1-8
            const events3 = [
                { title: "Employee 1", daysOfWeek: [1, 2, 3, 4, 5], startTime: "09:00", endTime: "10:00" },
                { title: "Employee 2", daysOfWeek: [1, 2, 3, 4, 5], startTime: "10:00", endTime: "11:00" },
                { title: "Employee 3", daysOfWeek: [1, 2, 3, 4, 5], startTime: "11:00", endTime: "12:00" },
                { title: "Employee 4", daysOfWeek: [1, 2, 3, 4, 5], startTime: "12:00", endTime: "13:00" },
                { title: "Employee 5", daysOfWeek: [1, 2, 3, 4, 5], startTime: "13:00", endTime: "14:00" },
                { title: "Employee 6", daysOfWeek: [1, 2, 3, 4, 5], startTime: "14:00", endTime: "15:00" },
                { title: "Employee 7", daysOfWeek: [1, 2, 3, 4, 5], startTime: "15:00", endTime: "16:00" },
                { title: "Employee 8", daysOfWeek: [1, 2, 3, 4, 5], startTime: "16:00", endTime: "17:00" }
            ];

            // Render calendars
            initCalendar("calendar-preview-1", events1);
            initCalendar("calendar-preview-2", events2);
            initCalendar("calendar-preview-3", events3);
        });
    </script>
}
